<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gi·ªè h√†ng</title>
    <link href="./assets/img/icon.png" rel="icon" type="image/x-icon">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;900&display=swap" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
</head>
<body>
<div class="container">
    <!-- Header -->
    <div class="header">
        <div class="header__logo">
            <a href=""><img alt="" src="./assets/img/logo3.png"></a>
        </div>
        <div class="header__navbar">
            <ul>
                <li><a href="index.html">TRANG CH·ª¶</a></li>
                <li><a href="about.html">GI·ªöI THI·ªÜU</a></li>
                <li>
                    <a href="product.html">S·∫¢N PH·∫®M</a>
                    <ul class="sub">
                        <li onclick="window.location.href=this.querySelector('a').href;"><a
                                href="new-product.html">M·ªöI</a></li>
                        <li onclick="window.location.href=this.querySelector('a').href;"><a href="hot-product.html">B√ÅN
                            CH·∫†Y</a></li>
                        <li onclick="window.location.href=this.querySelector('a').href;"><a href="sale-product.html">SALE</a>
                        </li>
                        <li onclick="window.location.href=this.querySelector('a').href;"><a href="picture-clock.html">ƒê·ªíNG
                            H·ªí TRANH</a></li>
                        <li onclick="window.location.href=this.querySelector('a').href;"><a href="peacock-clock.html">ƒê·ªíNG
                            H·ªí CON C√îNG</a></li>
                        <li onclick="window.location.href=this.querySelector('a').href;"><a href="gift-clock.html">ƒê·ªíNG
                            H·ªí QU√Ä T·∫∂NG</a></li>
                    </ul>
                </li>
                <li><a href="contact.html">LI√äN H·ªÜ</a></li>
            </ul>
        </div>
        <div class="header__search">
            <div class="header__search-icon">
                <a href=""><i class="fa-solid fa-magnifying-glass"></i></a>
            </div>
            <input id="search-bar-all" placeholder="T√¨m ki·∫øm..." type="text">
        </div>
        <div class="header__cta">
            <a href="">
                <div class="header__cta-cart">
                    <div class="header__cta-cart-totalproduct"><span id="cart-count">0</span></div>
                    <a href="cart.html"><i class="fa-solid fa-shopping-cart"></i></a>
                </div>
            </a>
            <!-- C√°c n√∫t ƒêƒÉng nh·∫≠p, ƒêƒÉng k√Ω, T√†i kho·∫£n v√† ƒêƒÉng xu·∫•t -->
            <a class="header__cta-login" href="login.html" id="login-button">
                <div class="header__cta-login">
                    <i class="fa-solid fa-user"></i>
                    <h6>ƒêƒÉng nh·∫≠p</h6>
                </div>
            </a>
            <a class="header__cta-login" href="register.html" id="register-button">
                <div class="header__cta-login">
                    <i class="fa-solid fa-user"></i>
                    <h6>ƒêƒÉng k√Ω</h6>
                </div>
            </a>
            <a class="header__cta-login" href="account.html" id="account-button" style="display: none;">
                <div class="header__cta-login">
                    <i class="fa-solid fa-user account-icon"></i>
                    <h6>T√†i kho·∫£n</h6>
                </div>
            </a>
            <a class="header__cta-login" href="#" id="logout-button" style="display: none;">
                <div class="header__cta-login">
                    <i class="fa-solid fa-sign-out-alt account-icon"></i>
                    <h6>ƒêƒÉng xu·∫•t</h6>
                </div>
            </a>
        </div>
    </div>

    <!--  Main-->
    <div class="wrapper">
        <h1 class="cart-title">Gi·ªè h√†ng</h1>

        <!-- Th√¥ng b√°o khi gi·ªè h√†ng tr·ªëng -->
        <div id="cart-empty">
            <div class="empty-cart-message">
                <img src="https://etecvn.com/default/template/img/cart-empty.png?gidzl=LbS-Bzoz6IDTGJOXtA8T9Lv2EYN2z44d548z8CMX4NH34JzobFP38q15QYAKzano5KPcSpEoqXurrhCNB0">
            </div>
            <div class="cart-empty-text">
                <span>Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng! </span><a href="product.html">Mua s·∫Øm ngay th√¥i!</a>
            </div>
        </div>
        <!-- B·∫£ng gi·ªè h√†ng -->
        <table class="cart-table" style="display: none;">
            <thead>
            <tr>
                <th>Ch·ªçn</th>
                <th>·∫¢nh</th>
                <th>T√™n S·∫£n Ph·∫©m</th>
                <th>S·ªë L∆∞·ª£ng</th>
                <th>Gi√°</th>
                <th>T·ªïng</th>
                <th></th>
            </tr>
            </thead>
            <tbody id="cart-items">
            <!-- C√°c s·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
            </tbody>
        </table>

        <!-- Ph·∫ßn thanh to√°n -->
        <div class="pay">
            <table class="total-table">
                <tr>
                    <th>T·ªïng ti·ªÅn</th>
                    <td id="cart-total"></td>
                </tr>
            </table>
            <a href="pay.html">Thanh to√°n ngay</a>
        </div>
    </div>

    <!-- H·ªôp tho·∫°i chat -->
    <div class="chat-container">
        <div class="chat-button" id="chatButton" onclick="toggleChat()">
            <span id="chatIcon">üí¨</span>
        </div>
        <div class="chat-box" id="chatBox">
            <div class="chat-header">
                <img alt="" src="https://media.shopdongho.com/2023/09/chat-support-icon.svg">
                <h4>H·ªó tr·ª£ tr·ª±c tuy·∫øn</h4>
            </div>
            <div class="chat-content">
                <a href="">
                    <div class="chat-content-icons">
                        <img alt="" src="https://media.shopdongho.com/2023/03/68OaMdCz-socials-call-icon.svg">
                        <p class="greentext">0346.775.812</p>
                    </div>
                </a>
                <a href="">
                    <div class="chat-content-icons">
                        <img alt="" src="https://media.shopdongho.com/2023/03/YIo6s9FW-socials-messenger-icon.svg">
                        <p>Messenger Chat</p>
                    </div>
                </a>
                <a href="https://zalo.me/g/erqzqr097">
                    <div class="chat-content-icons">
                        <img alt="" src="https://media.shopdongho.com/2023/03/mEWLxvCZ-socials-zalo-icon.svg">
                        <p>Zalo Chat</p>
                    </div>
                </a>
                <a href="">
                    <div class="chat-content-icons">
                        <img alt="" src="https://media.shopdongho.com/2023/08/logo-vector-icon.svg">
                        <p>H·ªá Th·ªëng C·ª≠a H√†ng</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- N√∫t quay l·∫°i ƒë·∫ßu trang -->
    <a href="#" id="backToTop" class="back-to-top">
        <i class="fa-solid fa-chevron-up"></i>
    </a>

    <!--  Footer -->
    <div class="footer">
        <div class="footer-in">
            <div class="footer-in-col">
                <div class="footer-in-col-1">
                    <div class="icons-col-1">
                        <i class="fa-solid fa-location-dot"></i>
                    </div>
                    <p>
                        Showroom: S·ªë 54/274 Nguy·ªÖn L√¢n,<br> Tr∆∞·ªùng Chinh, H√† N·ªôi
                    </p>
                </div>
                <div class="footer-in-col-1">
                    <div class="icons-col-1">
                        <i class="fa-solid fa-phone"></i>
                    </div>
                    <p>
                        ƒêi·ªán tho·∫°i: <span><a href="">0374.517349</a> </span>-<span> <a
                            href="">0374.517349</a></span><br>
                        -<span> <a href="">0374.517349</a></span>
                    </p>
                </div>
                <div class="footer-in-col-1">
                    <div class="icons-col-1">
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                    <p>
                        Email: <a href="">nhom63@gmail.com.vn</a>
                    </p>
                </div>
                <div class="footer-in-col-1">
                    <div class="icons-col-1">
                        <i class="fa-solid fa-clock"></i>
                    </div>
                    <p>
                        Gi·ªù m·ªü c·ª≠a: 07:00 - 21:00h h√†ng ng√†y
                    </p>
                </div>
            </div>
            <div class="footer-in-col">
                <p class="footer-large-text">
                    H∆Ø·ªöNG D·∫™N KH√ÅCH H√ÄNG
                </p>
                <p>
                    <a href="">H∆∞·ªõng d·∫´n mua h√†ng t·∫°i c·ª≠a h√†ng</a>
                </p>
                <p>
                    <a href="">H∆∞·ªõng d·∫´n mua h√†ng Online</a>
                </p>
                <p>
                    <a href="">Ch√≠nh s√°ch ki·ªÉm h√†ng</a>
                </p>
                <p>
                    <a href="">Ch√≠nh s√°ch x·ª≠ l√Ω khi·∫øu n·∫°i</a>
                </p>
                <div class="icons-check">
                    <img alt="" src="https://tuongxinh.com.vn/wp-content/uploads/2024/06/logoSaleNoti.png">
                </div>
            </div>
            <div class="footer-in-col">
                <p class="footer-large-text">
                    CH√çNH S√ÅCH ∆ØU ƒê√ÉI
                </p>
                <p>
                    <a href="">Ch√≠nh s√°ch v·∫≠n chuy·ªÉn</a>
                </p>
                <p>
                    <a href="">Ch√≠nh s√°ch ƒë·ªïi tr·∫£ v√† ho√†n ti·ªÅn</a>
                </p>
                <p>
                    <a href="">Ch√≠nh s√°ch thanh to√°n</a>
                </p>
                <p>
                    <a href="">Ch√≠nh s√°ch b·∫£o m·∫≠t th√¥ng tin</a>
                </p>
                <div class="icons-pay">
                    <img alt="" src="https://tuongxinh.com.vn/wp-content/uploads/2023/09/footer_trustbadge.png">
                </div>
            </div>
            <div class="footer-in-col">
                <p class="footer-large-text">ƒêƒÇNG K√ù T∆Ø V·∫§N</p>
                <div class="footer-in-col-input">
                    <input placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" type="text">
                    <button>G·ª≠i</button>
                </div>
                <div class="icons-contact">
                    <a href=""><img alt="" src="https://tuongxinh.com.vn/wp-content/uploads/2023/09/facebook-1.png"></a>
                    <a href=""><img alt="" src="https://tuongxinh.com.vn/wp-content/uploads/2023/09/zalo.png"></a>
                    <a href=""><img
                            alt=""
                            src="https://tuongxinh.com.vn/wp-content/uploads/2023/09/logo-youtube-tuong-xinh.png"></a>
                    <a href=""><img alt="" src="https://tuongxinh.com.vn/wp-content/uploads/2023/09/tiktok.png"></a>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <p>
            &copy; 2024 WATCH63. DESIGN BY WATCH 63
        </p>
    </div>


</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        displayCartItems();
        displayCartTotal();  // C·∫≠p nh·∫≠t t·ªïng ti·ªÅn khi trang ƒë∆∞·ª£c t·∫£i
    });
</script>

<script>
    function displayCartItems() {
        const cartItems = cartManager.getItems();
        const cartTable = document.querySelector(".cart-table");
        const paySection = document.querySelector(".pay");
        const emptyCartMessage = document.getElementById("cart-empty");
        const cartContainer = document.getElementById("cart-items");

        cartContainer.innerHTML = ""; // X√≥a s·∫£n ph·∫©m c≈©

        if (cartItems.length === 0) {
            cartTable.style.display = "none";         // ·∫®n b·∫£ng gi·ªè h√†ng
            paySection.style.display = "none";        // ·∫®n ph·∫ßn thanh to√°n
            emptyCartMessage.style.display = "block"; // Hi·ªÉn th·ªã th√¥ng b√°o gi·ªè h√†ng tr·ªëng
        } else {
            cartTable.style.display = "table";        // Hi·ªÉn th·ªã b·∫£ng gi·ªè h√†ng
            emptyCartMessage.style.display = "none";  // ·∫®n th√¥ng b√°o gi·ªè h√†ng tr·ªëng

            cartItems.forEach((item, index) => {
                const row = document.createElement("tr");

                // C·ªôt ch·ªçn s·∫£n ph·∫©m
                const checkboxCell = document.createElement("td");
                const checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkboxCell.appendChild(checkbox);

                // C·ªôt ·∫£nh s·∫£n ph·∫©m
                const imageCell = document.createElement("td");
                const img = document.createElement("img");
                img.src = item.image;
                img.style.width = "50px";
                imageCell.appendChild(img);

                // C·ªôt t√™n s·∫£n ph·∫©m
                const nameCell = document.createElement("td");
                nameCell.textContent = item.name;

                // C·ªôt s·ªë l∆∞·ª£ng s·∫£n ph·∫©m
                const quantityCell = document.createElement("td");
                const quantityInput = document.createElement("input");
                quantityInput.type = "number";
                quantityInput.value = item.quantity;
                quantityInput.min = 1;
                quantityInput.addEventListener("change", function () {
                    const newQuantity = parseInt(quantityInput.value);
                    cartManager.updateQuantity(index, newQuantity);
                    displayCartItems();
                });
                quantityCell.appendChild(quantityInput);

                // C·ªôt gi√° s·∫£n ph·∫©m
                const priceCell = document.createElement("td");
                priceCell.textContent = item.price;

                // C·ªôt t·ªïng gi√° s·∫£n ph·∫©m
                const totalPriceCell = document.createElement("td");
                const totalPrice = parseFloat(item.price.replace(/\./g, '')) * item.quantity;
                totalPriceCell.textContent = totalPrice.toLocaleString() + " ‚Ç´";

                // C·ªôt thao t√°c x√≥a s·∫£n ph·∫©m (th·∫ª a)
                const actionCell = document.createElement("td");
                const removeLink = document.createElement("a");
                removeLink.href = "#";
                removeLink.innerHTML = '<i class="fa-solid fa-xmark" style="color: red;"></i>';
                removeLink.onclick = (e) => {
                    e.preventDefault();
                    cartManager.removeItem(index);
                    displayCartItems();
                    displayCartTotal();
                    displayCartCount();
                };
                actionCell.appendChild(removeLink);

                // Th√™m c√°c c·ªôt v√†o h√†ng
                row.appendChild(checkboxCell);
                row.appendChild(imageCell);
                row.appendChild(nameCell);
                row.appendChild(quantityCell);
                row.appendChild(priceCell);
                row.appendChild(totalPriceCell);
                row.appendChild(actionCell);

                cartContainer.appendChild(row);
            });

            displayCartTotal(); // T√≠nh t·ªïng ti·ªÅn
            displayCartCount(); // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m
        }
    }

    document.addEventListener("DOMContentLoaded", displayCartItems);

</script>

<script src="assets/script/chatbox.js"></script>
<script src="assets/script/logout.js"></script>
<script src="assets/script/cart.js"></script>
<script src="assets/script/search-all.js"></script>
<script src="assets/script/back_to_top.js"></script>
</body>
</html>